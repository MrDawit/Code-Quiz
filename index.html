<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css"/>
    <title>Code Quiz</title>
</head>
<body>
    <h1 id="h1">Code Quiz: Basketball</h1>
        <aside>
            <h2>Instructions:</h2>
            <ul>
                <li>Answers are case-sensitive.<span> Answer </span>in proper noun form.</li>
                <li>Finish quiz before <span>timer </span>reaches 0.</li>
                <li>With a score of 100 points, see what <span>This NBA great </span>does to the rim.</li>
            </ul>     
        </aside>       
            
        
        <main id="main">
            <section id="button">
                <button class="button">Start</button>
            </section>    
            <section id="title">Quiz:</section>
            <section id="question">Question</section></br></br>
            <section id="time"></section>
            
            <form id="quiz-form" method="POST">
                
                <label for="answerT">Input Answer:</label></br>
                <input type="text" placeholder="Who can this be?" name="answer" id="answer-text" /></br></br>
            </form>
            
            <section id="image"><img alt="Kobe_Yao" id="gif" style="visibility:hidden"/></section>
            <br>
        </main>
        <footer>
            <img>
        </footer>
    <!-- <script> 
                    
                   
                      // Add new answerInput to quest array, clear the input
                     // quest.push(answerInput);
                      //todoInput.value = "";
                   
    </script>-->


    <script>

$(document).ready(function(){

var Aside= document.querySelector("aside");
var P = document.createElement("p");                     
var textG_Over = document.createTextNode("<Game Over!!>");
var BR = document.createElement("br"); 
var Image=document.getElementById("image");
var textPoints = document.createTextNode("Points: ");
var Main=document.getElementById("main");
var H1 = document.querySelector("h1"); 
var fPoints = document.createElement("card");  
var Footer=document.querySelector("footer")
var BTN= document.querySelector("#button");
var Title= document.querySelector("#title");
var answerInput = document.querySelector("#answer-text");       
var quizForm = document.querySelector("#quiz-form");
var question=document.querySelector("#question");   
var GIF=document.querySelector("#gif");        
var answer="Kobe";           
var btn=document.querySelector(".button");
var IMG=document.querySelector("img");
var ans;
var game=true;
//var time=true;
var answeredCorrect=0;
//Gametime(seconds)
var timeleft = 60;
var Score=0;
var i=1;

var quest = [
    "1.) Who scored 60-plus points in a game six times?",
    "2.) Lakersâ€™ career leader in games, minutes, points, field goals made and attempted, 3-pointers made and attempted, free throws made and attempted, and win shares?",
    "3.) Who is the only NBA player to have two jerseys retired by the same team?",
    "4.) Who has 12-time All-Defensive team selections?",
    "5.) Who is a 5 time NBA Champion?"
    ];

// var Kobe_dunk=["./images/0.gif","./images/1.gif","./images/2.gif","./images/3.gif","./images/4.gif","./images/5.gif","./images/6.gif","./images/7.gif",".images/8.gif","./images/9.gif","./images/10.gif",
//                 "./images/11.gif","./images/12.gif","./images/13.gif","./images/14.gif","./images/15.gif","./images/16.gif","./images/17.gif","./images/18.gif","./images/19.gif","./images/20.gif",
//                 "./images/21.gif","./images/22.gif","./images/23.gif","./images/24.gif","./images/25.gif","./images/26.gif","./images/27.gif","./images/28.gif","./images/29.gif","./images/30.gif",
//                 "./images/31.gif","./images/32.gif","./images/33.gif","./images/34.gif","./images/35.gif","./images/36.gif","./images/37.gif","./images/38.gif","./images/39.gif","./images/40.gif",
//                 "./images/41.gif","./images/42.gif","./images/43.gif","./images/44.gif","./images/45.gif","./images/46.gif","./images/47.gif","./images/48.gif","./images/49.gif","./images/50.gif",
//                 "./images/51.gif","./images/52.gif","./images/53.gif","./images/54.gif","./images/55.gif"
//             ];

answerInput.value="";
console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
     //Game start click       
    btn.addEventListener("click",function(){
        console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
        question.innerHTML=quest[0];
        timer();
        //when answer is submitted(clicked)
        quizForm.addEventListener("submit", function(event) {
          event.preventDefault();
        
          var answerText = answerInput.value;
          
          // Return from function early if submitted text is blank
          if (answerText === "") {
            return;
          }
      
          // Add new value to var ans. clear the input
          ans=answerText;
          answerText = "";
      
          
          console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
        

         //Correct answer when final question
           if(ans===answer && i===quest.length){
            answeredCorrect++;
            i++;
            console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
            Score=(answeredCorrect*20)+(timeleft);
            game=false;
            gameover();
            Win();
          }
          //Wrong answer when final question
          else if(ans!==answer && i===quest.length){
            timeleft=timeleft-5;
            i++;
            Score=(points*20)+(timeleft);
            console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
            game=false;
            gameover();
            Win();
          }
          //Correct answer when NOT final question
            else if(ans===answer && i<quest.length){
                answeredCorrect++;
                question.innerHTML=quest[i++];
                console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
                answerInput.value =""; 
             

                    //tried to have gif array play in sections with every correct answer[DOESNT WORK]
                           
                            //  if(i=1){
                            //     for(a=0;a<10;a++){
                            //      (function(){
                            //      setInterval(function(){
                            //      GIF.setAttribute("src",Kobe_dunk[a]);
                            //      GIF.style.visibility="visible";
                            //      console.log("a= "+ a + "  i= "+ );
                            //      },500)
                            //      });
                            //     }
                            //  }
                         
                            //  if(i=2){
                            //     for(a=10;a<20;a++){
                            //         (function(){
                            //         setInterval(function(){
                            //         GIF.setAttribute("src",Kobe_dunk[a]);
                            //         GIF.style.visibility="visible";
                            //         console.log("a= "+ a + "  i= "+ );
                            //         },500)
                            //         });
                            //     }
                            //  }
                         
                            //  if(i=3){
                            //     for(a=20;a<30;a++){
                            //         (function(){
                            //         setInterval(function(){
                            //         GIF.setAttribute("src",Kobe_dunk[a]);
                            //         GIF.style.visibility="visible";
                            //         console.log("a= "+ a + "  i= "+ );
                            //         },500)
                            //         });
                            //     }
                            //  }
                         
                            //  if(i=4){
                            //     for(a=30;a<40;a++){
                            //         (function(){
                            //         setInterval(function(){
                            //         GIF.setAttribute("src",Kobe_dunk[a]);
                            //         GIF.style.visibility="visible";
                            //         console.log("a= "+ a + "  i= "+ );
                            //         },500)
                            //         });
                            //     }
                            //  }
                         
                            //  if(i=5){
                            //     for(a=40;a<50;a++){
                            //         (function(){
                            //         setInterval(function(){
                            //         GIF.setAttribute("src",Kobe_dunk[a]);
                            //         GIF.style.visibility="visible";
                            //         console.log("a= "+ a + "  i= "+ );
                            //         },500)
                            //         });
                            //      }
                            //  }
                            //   if(i=6){
                            //     for(a=50;a<56;a++){
                            //         (function(){
                            //         setInterval(function(){
                            //         GIF.setAttribute("src",Kobe_dunk[a]);
                            //         GIF.style.visibility="visible";
                            //         console.log("a= "+ a + "  i= "+ );
                            //         },500)
                            //         });
                            //     }
                            //   }

            //Closing bracket for correct answer statement                
            }

          //Wrong answer when NOT final question
          else if(ans!==answer && i<quest.length){
              question.innerHTML=quest[i++];
              
              answerInput.value="";
              timeleft=timeleft-5;
           
           console.log("points= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
           }   

    //Closing bracket for enter on input answer      
    });
                //Closing bracket for start of game
                 });   

     //function that clears section of website and displays results when game is over
        function gameover(){
             Aside.innerHTML="";
             quizForm.innerHTML="";
             BTN.innerHTML="";
             Title.innerHTML="";
             question.innerHTML="";     
             P.appendChild(textG_Over);
             Main.appendChild(P);
             P.setAttribute("id","G_Over");
            //inside h1
            // var H1=document.getElementById("h1");
            var Hed=document.querySelector("h1");
            Hed.setAttribute("style", "text-shadow: 2px 2px red");

             //inside footer element
             fPoints.innerHTML = "Score= " + Score + " points || Correct Answers= " + answeredCorrect; 
             Footer.appendChild(fPoints);
             fPoints.setAttribute("id","fPoints");
            
             console.log("score: "+Score+"   correct answers= "+ answeredCorrect +", i= "+ i +", timeleft= "+ timeleft);
        }
        //Prize function
        function Win(){
            if(Score>=100){
                IMG.setAttribute("style", "visibility:visible; border:8px solid gold");
            IMG.setAttribute("src", "./images/KobeDunksOnYao.gif");
            }
            var BR = document.createElement("br");
            var P=document.createElement("p");
            Image.append(BR);
            P.innerHTML="&#169;"+"NBA";
            BR.parentNode.insertBefore( P, BR.nextSibling );;
            

        }

        //timer function
        function timer(){
                       
                        var clock = setInterval(function(){
                        timeleft--;
                        if(timeleft>0){
                            document.getElementById("time").textContent = "Time: "+ timeleft + " Sec";
                        }
                        //Third condition for end of game
                        //condition for timer to end at 0 along with wrong answer(s) causing negative clock times 
                        if(timeleft <= 0){
                            clearInterval(clock);
                            gameover();
                            document.getElementById("time").textContent = "Time: 0 Sec";
                            
                        }

                        if (game!=true){
                            clearInterval(clock);
                            document.getElementById("time").textContent = "Time: "+ timeleft + " Sec";
                        }
                            
                        },1000);
        };
        
});    
    </script>
</body>
</html>


